{"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"type":"aside","name":"Tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"It is important to setup the event listening, even before connecting to the locking device, to be"},{"type":"text","text":" "},{"type":"text","text":"able to notify mobile application users about the about the state changes in the connected"},{"type":"text","text":" "},{"type":"text","text":"locking device - for example when a locking device is locked or unlocked."}]}],"style":"tip"},{"inlineContent":[{"type":"text","text":"The "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEvent"},{"type":"text","text":" API model with all its inheritors describes the full spectrum of possible events."},{"type":"text","text":" "},{"type":"text","text":"For example, the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent"},{"type":"text","text":" enumerable property can be used to understand the new state of the locking device"},{"type":"text","text":" "},{"type":"text","text":"(i.e. is the locking device "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent\/locked"},{"type":"text","text":" or is it "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent\/unlocking"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"To setup the lock event listening, follow the next sample code for ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/AbloyMobileSDK\/getLockEvents()","type":"reference"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["import AbloyCuBeMobileSDK","","func listenToLockEvents() async {","    for await event in AbloyMobileSDK.shared.getLockEvents() {","        switch event {","        case .operation(let operationEvent):","            print(\"lock state changed to \\(operationEvent)\")","        case .handleStateChange(let handleState):","            print(\"handle state changed to \\(handleState)\")","        case .overrideStateChange(let overrideState):","            print(\"override state changed to \\(overrideState)\")","        case .errorStateChange(let errorState):","            print(\"error state changed to \\(errorState)\")","        }","    }","}"],"syntax":"swift"},{"level":2,"type":"heading","text":"Further Reading","anchor":"Further-Reading"},{"items":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating"],"type":"links","style":"list"}]}],"metadata":{"modules":[{"name":"AbloyCuBeMobileSDK"}],"role":"article","roleHeading":"Article","title":"Listening to locking device events"},"kind":"article","seeAlsoSections":[{"title":"Listening to locking device events","identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/AbloyMobileSDK\/getLockEvents()"],"generated":true,"anchor":"Listening-to-locking-device-events"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/ListeningToLockingDeviceEvents"},"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"variants":[{"paths":["\/documentation\/abloycubemobilesdk\/listeningtolockingdeviceevents"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"By listening to locking device events you can capture important information what is happening during a lock connection.","type":"text"}],"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockOperationEvent/unlocking":{"role":"symbol","abstract":[{"text":"Locking device is being unlocked","type":"text"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent\/unlocking","url":"\/documentation\/abloycubemobilesdk\/lockoperationevent\/unlocking","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"unlocking"}],"title":"LockOperationEvent.unlocking"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"abstract":[{"text":"Control Abloy locking devices from within your app.","type":"text"}],"type":"topic","kind":"symbol","url":"\/documentation\/abloycubemobilesdk","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK","role":"collection","title":"AbloyCuBeMobileSDK"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Operating":{"type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating","title":"Operating a Locking Device","role":"article","abstract":[{"text":"Unlock, lock or perform other operations on a nearby connected locking device.","type":"text"}],"url":"\/documentation\/abloycubemobilesdk\/operating","kind":"article"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/AbloyMobileSDK/getLockEvents()":{"kind":"symbol","title":"getLockEvents()","role":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/AbloyMobileSDK\/getLockEvents()","abstract":[{"text":"Stream of lock operation events","type":"text"}],"url":"\/documentation\/abloycubemobilesdk\/abloymobilesdk\/getlockevents()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getLockEvents"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"LockEventStream","preciseIdentifier":"s:18AbloyCuBeMobileSDK15LockEventStreama"}],"type":"topic"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockOperationEvent/locked":{"role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"Locking device was locked"}],"type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent\/locked","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"locked"}],"url":"\/documentation\/abloycubemobilesdk\/lockoperationevent\/locked","title":"LockOperationEvent.locked"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockOperationEvent":{"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockOperationEvent","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"text","text":"Locking device operation event."}],"url":"\/documentation\/abloycubemobilesdk\/lockoperationevent","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockOperationEvent","navigatorTitle":[{"text":"LockOperationEvent","kind":"identifier"}],"type":"topic","title":"LockOperationEvent","role":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEvent":{"url":"\/documentation\/abloycubemobilesdk\/lockevent","abstract":[{"text":"Locking device event received from ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/AbloyMobileSDK\/getLockEvents()","type":"reference"},{"text":" stream.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEvent","type":"topic","title":"LockEvent","role":"symbol","navigatorTitle":[{"text":"LockEvent","kind":"identifier"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockEvent","kind":"identifier"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Connecting":{"url":"\/documentation\/abloycubemobilesdk\/connecting","title":"Connecting to a Locking Device","type":"topic","role":"article","abstract":[{"text":"Connect to and disconnect from a nearby locking device.","type":"text"}],"kind":"article","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting"}}}