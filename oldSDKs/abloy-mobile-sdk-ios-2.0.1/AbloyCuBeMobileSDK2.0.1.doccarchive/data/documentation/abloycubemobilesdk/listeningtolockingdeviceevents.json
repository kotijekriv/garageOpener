{"abstract":[{"type":"text","text":"By listening to locking device events you can capture important information what is happening during a lock connection."}],"variants":[{"paths":["\/documentation\/abloycubemobilesdk\/listeningtolockingdeviceevents"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","sections":[],"seeAlsoSections":[{"generated":true,"anchor":"Listening-to-locking-device-events","identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent"],"title":"Listening to locking device events"}],"metadata":{"roleHeading":"Article","modules":[{"name":"AbloyCuBeMobileSDK"}],"role":"article","title":"Listening to locking device events"},"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/ListeningToLockingDeviceEvents"},"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Overview","type":"heading","text":"Overview"},{"name":"Tip","type":"aside","style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"It is important to setup the event listening, even before connecting to the locking device, to be"},{"type":"text","text":" "},{"type":"text","text":"able to notify mobile application users about the about the state changes in the connected"},{"type":"text","text":" "},{"type":"text","text":"locking device - for example when a locking device is locked or unlocked."}]}]},{"inlineContent":[{"type":"text","text":"To listen to locking device state changes, one must subscribe to a stream of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent"},{"text":" by the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()"},{"text":" interface.","type":"text"},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange"},{"type":"text","text":" API model with all its inheritors describes the full spectrum of possible events."},{"type":"text","text":" "},{"type":"text","text":"For example, the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState"},{"type":"text","text":" enumerable property can be used to understand the new state of the locking device"},{"type":"text","text":" "},{"type":"text","text":"(i.e. is the locking device "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked"},{"type":"text","text":" or is it "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking"},{"type":"text","text":"."}],"type":"paragraph"},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"Sample code and additional documentation can be found ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","overridingTitle":"here","overridingTitleInlineContent":[{"type":"text","text":"here"}],"type":"reference"}]}],"name":"Tip","type":"aside"},{"level":2,"anchor":"Further-Reading","text":"Further Reading","type":"heading"},{"style":"list","items":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating"],"type":"links"}]}],"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Connecting":{"title":"Connecting to a Locking Device","abstract":[{"text":"Connect to and disconnect from a nearby locking device.","type":"text"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","type":"topic","role":"article","url":"\/documentation\/abloycubemobilesdk\/connecting","kind":"article"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"abstract":[{"type":"text","text":"Control Abloy locking devices from within your app."}],"title":"AbloyCuBeMobileSDK","kind":"symbol","type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK","role":"collection","url":"\/documentation\/abloycubemobilesdk"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming":{"navigatorTitle":[{"text":"LockEventStreaming","kind":"identifier"}],"abstract":[{"text":"Get locking device operation events","type":"text"}],"url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming","kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockEventStreaming","kind":"identifier"}],"type":"topic","title":"LockEventStreaming","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming","role":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceEvent":{"role":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","navigatorTitle":[{"text":"LockingDeviceEvent","kind":"identifier"}],"title":"LockingDeviceEvent","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceevent","type":"topic","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockingDeviceEvent","kind":"identifier"}],"abstract":[{"type":"text","text":"Event received by subscribing to "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming","isActive":true}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Operating":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating","title":"Operating a Locking Device","url":"\/documentation\/abloycubemobilesdk\/operating","role":"article","type":"topic","abstract":[{"text":"Unlock, lock or perform other operations on a nearby connected locking device.","type":"text"}],"kind":"article"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState":{"url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockingDeviceOperationState"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState","title":"LockingDeviceOperationState","role":"symbol","abstract":[{"type":"text","text":"Locking device operation event."}],"navigatorTitle":[{"kind":"identifier","text":"LockingDeviceOperationState"}],"kind":"symbol","type":"topic"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming/getLockEvents()":{"abstract":[{"type":"text","text":"Stream of locking device state events"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming\/getlockevents()","required":true,"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"getLockEvents","kind":"identifier"},{"text":"() -> ","kind":"text"},{"text":"AsyncStream","kind":"typeIdentifier","preciseIdentifier":"s:ScS"},{"text":"<","kind":"text"},{"text":"LockingDeviceEvent","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK18LockingDeviceEventV"},{"text":">","kind":"text"}],"title":"getLockEvents()"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceStateChange":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange","kind":"symbol","navigatorTitle":[{"text":"LockingDeviceStateChange","kind":"identifier"}],"abstract":[{"type":"text","text":"State change of a locking device"},{"type":"text","text":" "},{"type":"text","text":"See also "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","isActive":true}],"url":"\/documentation\/abloycubemobilesdk\/lockingdevicestatechange","role":"symbol","title":"LockingDeviceStateChange","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockingDeviceStateChange","kind":"identifier"}],"type":"topic"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/unlocking":{"abstract":[{"type":"text","text":"Locking device is being unlocked"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/unlocking","role":"symbol","title":"LockingDeviceOperationState.unlocking","type":"topic","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"unlocking","kind":"identifier"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/locked":{"type":"topic","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/locked","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"locked"}],"kind":"symbol","role":"symbol","title":"LockingDeviceOperationState.locked","abstract":[{"type":"text","text":"Locking device was locked"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked"}}}