{"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Firmware updates include fixes, security patches and improvements to the locking devices."}],"type":"paragraph"},{"inlineContent":[{"text":"For the user to be able to update firmware, they need an Access with permission ","type":"text"},{"type":"codeVoice","code":"UPDATE_FIRMWARE"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To update the firmware you first need to check if there’s a new firmware version available by"},{"type":"text","text":" "},{"type":"text","text":"calling "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","isActive":true,"type":"reference"},{"type":"text","text":". This can be used to determine, for example if a button should be"},{"type":"text","text":" "},{"type":"text","text":"showed to start firmware update."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Firmware update can be started by calling "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","isActive":true},{"type":"text","text":". Transferring the firmware image can"},{"type":"text","text":" "},{"type":"text","text":"take 60 seconds in the worst case scenario."}],"type":"paragraph"},{"inlineContent":[{"text":"After the Firmware update stream finishes successfully, the locking device disconnects and starts applying the update.","type":"text"},{"text":" ","type":"text"},{"text":"When connecting to the locking device again, the user can verify that the latest update was successfully applied.","type":"text"}],"type":"paragraph"},{"type":"aside","style":"tip","name":"Tip","content":[{"inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"Sample code and additional documentation can be found ","type":"text"},{"overridingTitle":"here","isActive":true,"overridingTitleInlineContent":[{"text":"here","type":"text"}],"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)"}],"type":"paragraph"}]},{"type":"aside","style":"important","name":"Important","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"During the firmware update process, the locking device is not operable. Any operations","type":"text"},{"text":" ","type":"text"},{"text":"(e.g. ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockUnlocking\/unlock(connectedLock:)","type":"reference"},{"text":" or ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockLocking\/lock(connectedLock:)","type":"reference"},{"text":") towards the locking device during","type":"text"},{"text":" ","type":"text"},{"text":"the update will fail.","type":"text"}]}]},{"text":"Firmware Update Flow","anchor":"Firmware-Update-Flow","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Connect to a lock by calling "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockConnecting\/connect(to:onDisconnect:)","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Check if there’s firmware version available by calling ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Update firmware by calling "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","isActive":true}]}]}],"type":"orderedList"}]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareCheckResult","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateStatus"],"title":"Firmware Updating","anchor":"Firmware-Updating"}],"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"AbloyCuBeMobileSDK"}],"title":"Firmware Updating"},"sections":[],"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/abloycubemobilesdk\/firmwareupdating"]}],"abstract":[{"type":"text","text":"Updating the firmware of a locking device"}],"identifier":{"url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating","interfaceLanguage":"swift"},"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockConnecting/connect(to:onDisconnect:)":{"kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockConnecting\/connect(to:onDisconnect:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"connect","kind":"identifier"},{"text":"(","kind":"text"},{"text":"to","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"DiscoveredLock","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK14DiscoveredLockV"},{"text":", ","kind":"text"},{"text":"onDisconnect","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","text":"ConnectedLock"}],"type":"topic","url":"\/documentation\/abloycubemobilesdk\/lockconnecting\/connect(to:ondisconnect:)","required":true,"title":"connect(to:onDisconnect:)","abstract":[{"type":"text","text":"This function is used to connect to a nearby and advertising locking device."}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdating/updateFirmware(for:)":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","url":"\/documentation\/abloycubemobilesdk\/firmwareupdating\/updatefirmware(for:)","type":"topic","required":true,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"updateFirmware"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","kind":"typeIdentifier","text":"ConnectedLock"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:Scs","kind":"typeIdentifier","text":"AsyncThrowingStream"},{"kind":"text","text":"<"},{"preciseIdentifier":"s:18AbloyCuBeMobileSDK20FirmwareUpdateStatusO","kind":"typeIdentifier","text":"FirmwareUpdateStatus"},{"kind":"text","text":", Swift"},{"kind":"text","text":"."},{"preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier","text":"Error"},{"kind":"text","text":">"}],"title":"updateFirmware(for:)","role":"symbol","abstract":[{"type":"text","text":"Update firmware of given connected locking device"}],"kind":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockLocking/lock(connectedLock:)":{"title":"lock(connectedLock:)","abstract":[{"text":"Close or lock a connected lock","type":"text"}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"lock","kind":"identifier"},{"text":"(","kind":"text"},{"text":"connectedLock","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ConnectedLock","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"}],"url":"\/documentation\/abloycubemobilesdk\/locklocking\/lock(connectedlock:)","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockLocking\/lock(connectedLock:)","type":"topic","required":true,"role":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdateChecking/checkFirmwareUpdate(for:)":{"kind":"symbol","url":"\/documentation\/abloycubemobilesdk\/firmwareupdatechecking\/checkfirmwareupdate(for:)","required":true,"role":"symbol","title":"checkFirmwareUpdate(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"checkFirmwareUpdate"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","kind":"typeIdentifier","text":"ConnectedLock"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"text":"FirmwareCheckResult","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK19FirmwareCheckResultO"}],"abstract":[{"type":"text","text":"Returns firmware availability status"}],"type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareCheckResult":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareCheckResult","url":"\/documentation\/abloycubemobilesdk\/firmwarecheckresult","title":"FirmwareCheckResult","navigatorTitle":[{"kind":"identifier","text":"FirmwareCheckResult"}],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirmwareCheckResult"}],"abstract":[{"type":"text","text":"Result of Firmware availabity received from backend"}],"type":"topic","kind":"symbol","role":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"url":"\/documentation\/abloycubemobilesdk","abstract":[{"type":"text","text":"Control Abloy locking devices from within your app."}],"title":"AbloyCuBeMobileSDK","type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK","role":"collection","kind":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdateStatus":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateStatus","type":"topic","url":"\/documentation\/abloycubemobilesdk\/firmwareupdatestatus","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirmwareUpdateStatus"}],"title":"FirmwareUpdateStatus","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"FirmwareUpdateStatus"}],"abstract":[{"type":"text","text":"Status of ongoing firmware update"}],"kind":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockUnlocking/unlock(connectedLock:)":{"url":"\/documentation\/abloycubemobilesdk\/lockunlocking\/unlock(connectedlock:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"unlock","kind":"identifier"},{"text":"(","kind":"text"},{"text":"connectedLock","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","text":"ConnectedLock","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"}],"required":true,"type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockUnlocking\/unlock(connectedLock:)","abstract":[{"text":"Open or unlock a connected lock","type":"text"}],"kind":"symbol","title":"unlock(connectedLock:)","role":"symbol"}}}