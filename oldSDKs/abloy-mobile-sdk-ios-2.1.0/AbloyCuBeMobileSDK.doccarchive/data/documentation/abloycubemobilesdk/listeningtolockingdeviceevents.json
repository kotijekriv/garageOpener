{"kind":"article","primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"style":"tip","name":"Tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"It is important to setup the event listening, even before connecting to the locking device, to be"},{"type":"text","text":" "},{"type":"text","text":"able to notify mobile application users about the about the state changes in the connected"},{"type":"text","text":" "},{"type":"text","text":"locking device - for example when a locking device is locked or unlocked."}]}],"type":"aside"},{"inlineContent":[{"type":"text","text":"To listen to locking device state changes, one must subscribe to a stream of "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","type":"reference","isActive":true},{"type":"text","text":" by the "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","type":"reference","isActive":true},{"type":"text","text":" interface."},{"type":"text","text":" "},{"type":"text","text":"The "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange","type":"reference","isActive":true},{"type":"text","text":" API model with all its inheritors describes the full spectrum of possible events."},{"type":"text","text":" "},{"type":"text","text":"For example, the "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState","type":"reference","isActive":true},{"type":"text","text":" enumerable property can be used to understand the new state of the locking device"},{"type":"text","text":" "},{"type":"text","text":"(i.e. is the locking device "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked","type":"reference","isActive":true},{"type":"text","text":" or is it "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"style":"tip","name":"Tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"Sample code and additional documentation can be found "},{"type":"reference","overridingTitle":"here","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","overridingTitleInlineContent":[{"type":"text","text":"here"}],"isActive":true}]}],"type":"aside"},{"text":"Further Reading","anchor":"Further-Reading","type":"heading","level":2},{"style":"list","items":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating"],"type":"links"}]}],"metadata":{"modules":[{"name":"AbloyCuBeMobileSDK"}],"roleHeading":"Article","role":"article","title":"Listening to locking device events"},"abstract":[{"text":"By listening to locking device events you can capture important information what is happening during a lock connection.","type":"text"}],"variants":[{"paths":["\/documentation\/abloycubemobilesdk\/listeningtolockingdeviceevents"],"traits":[{"interfaceLanguage":"swift"}]}],"seeAlsoSections":[{"generated":true,"anchor":"Listening-to-locking-device-events","identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent"],"title":"Listening to locking device events"}],"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/ListeningToLockingDeviceEvents"},"sections":[],"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/unlocking":{"title":"LockingDeviceOperationState.unlocking","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"unlocking","kind":"identifier"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking","abstract":[{"text":"Locking device is being unlocked","type":"text"}],"type":"topic","role":"symbol","kind":"symbol","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/unlocking"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"url":"\/documentation\/abloycubemobilesdk","abstract":[{"type":"text","text":"Control Abloy locking devices from within your app."}],"title":"AbloyCuBeMobileSDK","type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK","role":"collection","kind":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceStateChange":{"navigatorTitle":[{"kind":"identifier","text":"LockingDeviceStateChange"}],"kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange","abstract":[{"type":"text","text":"State change of a locking device"},{"type":"text","text":" "},{"type":"text","text":"See also "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","type":"reference","isActive":true}],"type":"topic","title":"LockingDeviceStateChange","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockingDeviceStateChange"}],"role":"symbol","url":"\/documentation\/abloycubemobilesdk\/lockingdevicestatechange"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming":{"navigatorTitle":[{"kind":"identifier","text":"LockEventStreaming"}],"abstract":[{"type":"text","text":"Get locking device operation events"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockEventStreaming"}],"role":"symbol","type":"topic","url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming","title":"LockEventStreaming"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState":{"type":"topic","navigatorTitle":[{"kind":"identifier","text":"LockingDeviceOperationState"}],"abstract":[{"type":"text","text":"Locking device operation event."}],"kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState","role":"symbol","title":"LockingDeviceOperationState","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockingDeviceOperationState"}],"url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Connecting":{"url":"\/documentation\/abloycubemobilesdk\/connecting","abstract":[{"type":"text","text":"Connect to and disconnect from a nearby locking device."}],"kind":"article","type":"topic","role":"article","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","title":"Connecting to a Locking Device"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Operating":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating","title":"Operating a Locking Device","type":"topic","role":"article","kind":"article","abstract":[{"text":"Unlock, lock or perform other operations on a nearby connected locking device.","type":"text"}],"url":"\/documentation\/abloycubemobilesdk\/operating"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming/getLockEvents()":{"type":"topic","title":"getLockEvents()","required":true,"kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getLockEvents"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"AsyncStream","preciseIdentifier":"s:ScS"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"LockingDeviceEvent","preciseIdentifier":"s:18AbloyCuBeMobileSDK18LockingDeviceEventV"},{"kind":"text","text":">"}],"url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming\/getlockevents()","abstract":[{"type":"text","text":"Stream of locking device state events"}],"role":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceEvent":{"navigatorTitle":[{"kind":"identifier","text":"LockingDeviceEvent"}],"abstract":[{"type":"text","text":"Event received by subscribing to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockingDeviceEvent"}],"role":"symbol","type":"topic","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceevent","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","title":"LockingDeviceEvent"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/locked":{"title":"LockingDeviceOperationState.locked","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"locked"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/locked","abstract":[{"type":"text","text":"Locking device was locked"}],"kind":"symbol"}}}