{"metadata":{"title":"Listening to locking device events","modules":[{"name":"AbloyCuBeMobileSDK"}],"roleHeading":"Article","role":"article"},"seeAlsoSections":[{"anchor":"Listening-to-locking-device-events","title":"Listening to locking device events","generated":true,"identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/ListeningToLockingDeviceEvents"},"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"type":"aside","name":"Tip","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"It is important to setup the event listening, even before connecting to the locking device, to be","type":"text"},{"text":" ","type":"text"},{"text":"able to notify mobile application users about the about the state changes in the connected","type":"text"},{"text":" ","type":"text"},{"text":"locking device - for example when a locking device is locked or unlocked.","type":"text"}]}],"style":"tip"},{"type":"paragraph","inlineContent":[{"text":"To listen to locking device state changes, one must subscribe to a stream of ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","isActive":true,"type":"reference"},{"text":" by the ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","isActive":true,"type":"reference"},{"text":" interface.","type":"text"},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange","isActive":true,"type":"reference"},{"text":" API model with all its inheritors describes the full spectrum of possible events.","type":"text"},{"text":" ","type":"text"},{"text":"For example, the ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState","isActive":true,"type":"reference"},{"text":" enumerable property can be used to understand the new state of the locking device","type":"text"},{"text":" ","type":"text"},{"text":"(i.e. is the locking device ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked","isActive":true,"type":"reference"},{"text":" or is it ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking","isActive":true,"type":"reference"},{"text":".","type":"text"}]},{"type":"aside","name":"Tip","content":[{"inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"Sample code and additional documentation can be found ","type":"text"},{"isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"here"}],"overridingTitle":"here","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()"}],"type":"paragraph"}],"style":"tip"},{"type":"heading","text":"Further Reading","level":2,"anchor":"Further-Reading"},{"type":"links","items":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating"],"style":"list"}]}],"abstract":[{"type":"text","text":"By listening to locking device events you can capture important information what is happening during a lock connection."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/abloycubemobilesdk\/listeningtolockingdeviceevents"]}],"kind":"article","schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/unlocking":{"type":"topic","title":"LockingDeviceOperationState.unlocking","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"unlocking","kind":"identifier"}],"abstract":[{"text":"Locking device is being unlocked","type":"text"}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/unlocking","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/unlocking"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState/locked":{"type":"topic","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate\/locked","title":"LockingDeviceOperationState.locked","kind":"symbol","abstract":[{"type":"text","text":"Locking device was locked"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState\/locked","role":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"locked","kind":"identifier"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Connecting":{"type":"topic","url":"\/documentation\/abloycubemobilesdk\/connecting","kind":"article","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Connecting","title":"Connecting to a Locking Device","abstract":[{"text":"Connect to and disconnect from a nearby locking device.","type":"text"}],"role":"article"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceStateChange":{"navigatorTitle":[{"text":"LockingDeviceStateChange","kind":"identifier"}],"abstract":[{"type":"text","text":"State change of a locking device"},{"type":"text","text":" "},{"type":"text","text":"See also "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","isActive":true}],"url":"\/documentation\/abloycubemobilesdk\/lockingdevicestatechange","role":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceStateChange","kind":"symbol","title":"LockingDeviceStateChange","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockingDeviceStateChange","kind":"identifier"}],"type":"topic"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"title":"AbloyCuBeMobileSDK","abstract":[{"text":"Control Abloy locking devices from within your app.","type":"text"}],"kind":"symbol","url":"\/documentation\/abloycubemobilesdk","type":"topic","role":"collection","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceEvent":{"role":"symbol","url":"\/documentation\/abloycubemobilesdk\/lockingdeviceevent","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockingDeviceEvent","kind":"identifier"}],"title":"LockingDeviceEvent","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceEvent","navigatorTitle":[{"text":"LockingDeviceEvent","kind":"identifier"}],"abstract":[{"type":"text","text":"Event received by subscribing to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockingDeviceOperationState":{"url":"\/documentation\/abloycubemobilesdk\/lockingdeviceoperationstate","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"LockingDeviceOperationState"}],"type":"topic","title":"LockingDeviceOperationState","kind":"symbol","abstract":[{"text":"Locking device operation event.","type":"text"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockingDeviceOperationState","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockingDeviceOperationState"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/Operating":{"kind":"article","title":"Operating a Locking Device","type":"topic","abstract":[{"type":"text","text":"Unlock, lock or perform other operations on a nearby connected locking device."}],"role":"article","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/Operating","url":"\/documentation\/abloycubemobilesdk\/operating"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming/getLockEvents()":{"type":"topic","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming\/getLockEvents()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getLockEvents"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:ScS","text":"AsyncStream"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK18LockingDeviceEventV","text":"LockingDeviceEvent"},{"kind":"text","text":">"}],"required":true,"role":"symbol","abstract":[{"type":"text","text":"Stream of locking device state events"}],"title":"getLockEvents()","kind":"symbol","url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming\/getlockevents()"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockEventStreaming":{"abstract":[{"type":"text","text":"Get locking device operation events"}],"kind":"symbol","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockEventStreaming","kind":"identifier"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockEventStreaming","navigatorTitle":[{"text":"LockEventStreaming","kind":"identifier"}],"url":"\/documentation\/abloycubemobilesdk\/lockeventstreaming","title":"LockEventStreaming","type":"topic"}}}