{"schemaVersion":{"minor":3,"patch":0,"major":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/abloycubemobilesdk\/firmwareupdating"]}],"sections":[],"identifier":{"url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating","interfaceLanguage":"swift"},"kind":"article","seeAlsoSections":[{"title":"Firmware Updating","identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareCheckResult","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateStatus"],"generated":true,"anchor":"Firmware-Updating"}],"primaryContentSections":[{"content":[{"anchor":"Overview","type":"heading","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Firmware updates include fixes, security patches and improvements to the locking devices."}]},{"type":"paragraph","inlineContent":[{"text":"For the user to be able to update firmware, they need an Access with permission ","type":"text"},{"code":"UPDATE_FIRMWARE","type":"codeVoice"}]},{"type":"paragraph","inlineContent":[{"text":"To update the firmware you first need to check if there’s a new firmware version available by","type":"text"},{"text":" ","type":"text"},{"text":"calling ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","type":"reference"},{"text":". This can be used to determine, for example if a button should be","type":"text"},{"text":" ","type":"text"},{"text":"showed to start firmware update.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Firmware update can be started by calling "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)"},{"type":"text","text":". Transferring the firmware image can"},{"type":"text","text":" "},{"type":"text","text":"take 60 seconds in the worst case scenario."}]},{"type":"paragraph","inlineContent":[{"text":"After the Firmware update stream finishes successfully, the locking device disconnects and starts applying the update.","type":"text"},{"text":" ","type":"text"},{"text":"When connecting to the locking device again, the user can verify that the latest update was successfully applied.","type":"text"}]},{"name":"Tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"Sample code and additional documentation can be found "},{"overridingTitle":"here","type":"reference","isActive":true,"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","overridingTitleInlineContent":[{"type":"text","text":"here"}]}]}],"type":"aside","style":"tip"},{"name":"Important","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"text","text":" "},{"type":"text","text":"During the firmware update process, the locking device is not operable. Any operations"},{"type":"text","text":" "},{"type":"text","text":"(e.g. "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockUnlocking\/unlock(connectedLock:)","isActive":true},{"type":"text","text":" or "},{"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockLocking\/lock(connectedLock:)","isActive":true},{"type":"text","text":") towards the locking device during"},{"type":"text","text":" "},{"type":"text","text":"the update will fail."}]}],"type":"aside","style":"important"},{"anchor":"Firmware-Update-Flow","type":"heading","text":"Firmware Update Flow","level":2},{"items":[{"content":[{"inlineContent":[{"text":"Connect to a lock by calling ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockConnecting\/connect(to:onDisconnect:)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Check if there’s firmware version available by calling ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","isActive":true,"type":"reference"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Update firmware by calling "},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","type":"reference","isActive":true}],"type":"paragraph"}]}],"type":"orderedList"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"abstract":[{"text":"Updating the firmware of a locking device","type":"text"}],"metadata":{"role":"article","roleHeading":"Article","modules":[{"name":"AbloyCuBeMobileSDK"}],"title":"Firmware Updating"},"references":{"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockUnlocking/unlock(connectedLock:)":{"url":"\/documentation\/abloycubemobilesdk\/lockunlocking\/unlock(connectedlock:)","type":"topic","kind":"symbol","required":true,"abstract":[{"type":"text","text":"Open or unlock a connected lock"}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"unlock"},{"kind":"text","text":"("},{"kind":"externalParam","text":"connectedLock"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ConnectedLock","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockUnlocking\/unlock(connectedLock:)","title":"unlock(connectedLock:)"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"title":"AbloyCuBeMobileSDK","abstract":[{"text":"Control Abloy locking devices from within your app.","type":"text"}],"kind":"symbol","url":"\/documentation\/abloycubemobilesdk","type":"topic","role":"collection","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareCheckResult":{"title":"FirmwareCheckResult","abstract":[{"text":"Result of Firmware availabity received from backend","type":"text"}],"url":"\/documentation\/abloycubemobilesdk\/firmwarecheckresult","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareCheckResult","kind":"symbol","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirmwareCheckResult"}],"navigatorTitle":[{"kind":"identifier","text":"FirmwareCheckResult"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockLocking/lock(connectedLock:)":{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockLocking\/lock(connectedLock:)","abstract":[{"type":"text","text":"Close or lock a connected lock"}],"title":"lock(connectedLock:)","kind":"symbol","required":true,"role":"symbol","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"lock","kind":"identifier"},{"text":"(","kind":"text"},{"text":"connectedLock","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ConnectedLock","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"}],"url":"\/documentation\/abloycubemobilesdk\/locklocking\/lock(connectedlock:)"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdateStatus":{"abstract":[{"type":"text","text":"Status of ongoing firmware update"}],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirmwareUpdateStatus"}],"navigatorTitle":[{"kind":"identifier","text":"FirmwareUpdateStatus"}],"kind":"symbol","url":"\/documentation\/abloycubemobilesdk\/firmwareupdatestatus","title":"FirmwareUpdateStatus","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateStatus","type":"topic","role":"symbol"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/LockConnecting/connect(to:onDisconnect:)":{"title":"connect(to:onDisconnect:)","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/LockConnecting\/connect(to:onDisconnect:)","required":true,"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"connect","kind":"identifier"},{"text":"(","kind":"text"},{"text":"to","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"DiscoveredLock","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK14DiscoveredLockV"},{"text":", ","kind":"text"},{"text":"onDisconnect","kind":"externalParam"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"ConnectedLock","kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV"}],"type":"topic","abstract":[{"text":"This function is used to connect to a nearby and advertising locking device.","type":"text"}],"role":"symbol","kind":"symbol","url":"\/documentation\/abloycubemobilesdk\/lockconnecting\/connect(to:ondisconnect:)"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdateChecking/checkFirmwareUpdate(for:)":{"required":true,"abstract":[{"text":"Returns firmware availability status","type":"text"}],"kind":"symbol","role":"symbol","type":"topic","title":"checkFirmwareUpdate(for:)","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdateChecking\/checkFirmwareUpdate(for:)","url":"\/documentation\/abloycubemobilesdk\/firmwareupdatechecking\/checkfirmwareupdate(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"checkFirmwareUpdate"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","text":"ConnectedLock"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK19FirmwareCheckResultO","text":"FirmwareCheckResult"}]},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/FirmwareUpdating/updateFirmware(for:)":{"url":"\/documentation\/abloycubemobilesdk\/firmwareupdating\/updatefirmware(for:)","abstract":[{"type":"text","text":"Update firmware of given connected locking device"}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"updateFirmware"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK13ConnectedLockV","text":"ConnectedLock"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:Scs","text":"AsyncThrowingStream"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:18AbloyCuBeMobileSDK20FirmwareUpdateStatusO","text":"FirmwareUpdateStatus"},{"kind":"text","text":", Swift"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP","text":"Error"},{"kind":"text","text":">"}],"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/FirmwareUpdating\/updateFirmware(for:)","required":true,"kind":"symbol","type":"topic","title":"updateFirmware(for:)","role":"symbol"}}}