{"variants":[{"paths":["\/documentation\/abloycubemobilesdk\/backgroundsyncing"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/BackgroundSyncing","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"]]},"abstract":[{"type":"text","text":"Synchronize and process SDK data in background when the application is not active"}],"seeAlsoSections":[{"identifiers":["doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/BackgroundSyncEnabling\/enableBackgroundSync()"],"anchor":"Background-Syncing","title":"Background Syncing","generated":true}],"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"content":[{"level":2,"anchor":"Overview","text":"Overview","type":"heading"},{"inlineContent":[{"text":"AbloyCuBeMobileSDK uses ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/backgroundtasks"},{"text":" to perform certain","type":"text"},{"text":" ","type":"text"},{"text":"operations in background to keep SDK content up to date. For example, if a network request fails, SDK schedules the","type":"text"},{"text":" ","type":"text"},{"text":"failed request and tries to execute it later when app is not active.","type":"text"},{"text":" ","type":"text"},{"text":"It is recommended to enable background syncing to improve SDK performance.","type":"text"}],"type":"paragraph"},{"name":"Important","style":"important","type":"aside","content":[{"inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"In order to execute background processes, following conditions should be met:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"An active internet connection.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"BackgroundAppRefresh"},{"text":" should be enabled in phone settings.","type":"text"}],"type":"paragraph"}]}]}]},{"name":"Important","style":"important","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"OS maintains how the background processes are executed. There is no fixed schedule of running these processes. It is"},{"type":"text","text":" "},{"type":"text","text":"possible that processes do not run at all if system doesn’t allow it."}]}]},{"level":3,"anchor":"How-to-enable-background-syncing","text":"How to enable background syncing","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"In Signing & Capabilities tab of app’s target, add Background Modes capability and select Background processing mode.","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"inlineContent":[{"identifier":"BackgroundModes.png","type":"image"}],"type":"paragraph"},{"start":2,"type":"orderedList","items":[{"content":[{"inlineContent":[{"text":"Add ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/bundleresources\/information_property_list\/bgtaskschedulerpermittedidentifiers","isActive":true,"type":"reference"},{"text":" in app’s info.plist file and add task identifier.","type":"text"},{"text":" ","type":"text"},{"text":"Your info.plist should look like this:","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"identifier":"BackgroundModesInfoPlist.png","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"Following task identifier must be used to register background task:","type":"text"}],"type":"paragraph"},{"syntax":null,"code":["com.abloy.AbloyMobileSDK.keyless-sync"],"type":"codeListing"},{"start":3,"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Background syncing must be enabled before the app finishes launching. For example, ","type":"text"},{"identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/BackgroundSyncEnabling\/enableBackgroundSync()","type":"reference","isActive":true},{"text":" should be called in app’s AppDelegate","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiapplicationdelegate\/1622921-application","type":"reference","isActive":true},{"text":" method.","type":"text"},{"text":" ","type":"text"},{"text":"Enabling background syncing will fail if called after app startup is finished.","type":"text"}]}]}]},{"syntax":"swift","code":["import AbloyCuBeMobileSDK","","func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]? = nil) -> Bool {","    let isRegistered = AbloyMobileSDK.shared.enableBackgroundSync()","    print(\"Task registered successfully\", isRegistered)","    return true","}"],"type":"codeListing"},{"level":2,"anchor":"Further-Reading","text":"Further Reading","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/app_and_environment\/scenes\/preparing_your_ui_to_run_in_the_background\/using_background_tasks_to_update_your_app","isActive":true,"type":"reference"}]}]}],"type":"unorderedList"}],"kind":"content"}],"sections":[],"metadata":{"modules":[{"name":"AbloyCuBeMobileSDK"}],"roleHeading":"Article","title":"Background Syncing","role":"article"},"kind":"article","references":{"https://developer.apple.com/documentation/backgroundtasks":{"type":"link","title":"BackgroundTasks","titleInlineContent":[{"text":"BackgroundTasks","type":"text"}],"url":"https:\/\/developer.apple.com\/documentation\/backgroundtasks","identifier":"https:\/\/developer.apple.com\/documentation\/backgroundtasks"},"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622921-application":{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiapplicationdelegate\/1622921-application","type":"link","title":"(_:didFinishLaunchingWithOptions:)","titleInlineContent":[{"text":"(_:didFinishLaunchingWithOptions:)","type":"text"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiapplicationdelegate\/1622921-application"},"BackgroundModes.png":{"type":"image","variants":[{"url":"\/images\/com.abloy.AbloyMobileSDK\/BackgroundModes.png","traits":["1x","light"]}],"alt":"BackgroundModes","identifier":"BackgroundModes.png"},"https://developer.apple.com/documentation/bundleresources/information_property_list/bgtaskschedulerpermittedidentifiers":{"identifier":"https:\/\/developer.apple.com\/documentation\/bundleresources\/information_property_list\/bgtaskschedulerpermittedidentifiers","type":"link","title":"BGTaskSchedulerPermittedIdentifiers","titleInlineContent":[{"text":"BGTaskSchedulerPermittedIdentifiers","type":"text"}],"url":"https:\/\/developer.apple.com\/documentation\/bundleresources\/information_property_list\/bgtaskschedulerpermittedidentifiers"},"BackgroundModesInfoPlist.png":{"type":"image","variants":[{"url":"\/images\/com.abloy.AbloyMobileSDK\/BackgroundModesInfoPlist.png","traits":["1x","light"]}],"alt":"BackgroundModesInfoPlist","identifier":"BackgroundModesInfoPlist.png"},"https://developer.apple.com/documentation/uikit/app_and_environment/scenes/preparing_your_ui_to_run_in_the_background/using_background_tasks_to_update_your_app":{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/app_and_environment\/scenes\/preparing_your_ui_to_run_in_the_background\/using_background_tasks_to_update_your_app","type":"link","title":"Using background tasks to update your app","titleInlineContent":[{"text":"Using background tasks to update your app","type":"text"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/app_and_environment\/scenes\/preparing_your_ui_to_run_in_the_background\/using_background_tasks_to_update_your_app"},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK/BackgroundSyncEnabling/enableBackgroundSync()":{"title":"enableBackgroundSync()","url":"\/documentation\/abloycubemobilesdk\/backgroundsyncenabling\/enablebackgroundsync()","kind":"symbol","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK\/BackgroundSyncEnabling\/enableBackgroundSync()","abstract":[{"text":"Registers and schedules a background process to keep SDK content up to date","type":"text"}],"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"enableBackgroundSync"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"required":true},"doc://com.abloy.AbloyMobileSDK/documentation/AbloyCuBeMobileSDK":{"title":"AbloyCuBeMobileSDK","abstract":[{"text":"Control Abloy locking devices from within your app.","type":"text"}],"kind":"symbol","url":"\/documentation\/abloycubemobilesdk","type":"topic","role":"collection","identifier":"doc:\/\/com.abloy.AbloyMobileSDK\/documentation\/AbloyCuBeMobileSDK"}}}